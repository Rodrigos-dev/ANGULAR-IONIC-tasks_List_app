(self.webpackChunkFirstProjectIonic=self.webpackChunkFirstProjectIonic||[]).push([[4159],{4159:(n,o,i)=>{"use strict";i.r(o),i.d(o,{AuthModule:()=>b});var t=i(5496),e=i(4762),r=i(665),a=i(1165),s=i(3018),c=i(263),u=i(6994),l=i(8945),m=i(8583);function g(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Required"),s.qZA())}function d(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Min 3 caracteres"),s.qZA())}function h(n,o){if(1&n&&(s.ynx(0),s.TgZ(1,"ion-item"),s._UZ(2,"ion-icon",16),s._UZ(3,"ion-input",17),s.YNc(4,g,2,0,"ion-note",9),s.YNc(5,d,2,0,"ion-note",9),s.qZA(),s.BQk()),2&n){const n=s.oxw();s.xp6(4),s.Q6J("ngIf",n.name.dirty&&n.name.hasError("required")),s.xp6(1),s.Q6J("ngIf",n.name.dirty&&n.name.hasError("minlength"))}}function p(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Required"),s.qZA())}function f(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Invalid email"),s.qZA())}function Z(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Required"),s.qZA())}function y(n,o){1&n&&(s.TgZ(0,"ion-note",18),s._uU(1," Min 6 caracteres"),s.qZA())}const q=[{path:"",component:(()=>{class n{constructor(n,o,i,t,e){this.authService=n,this.fb=o,this.overlayService=i,this.navCtrl=t,this.route=e,this.authProviders=a.H,this.configs={isSignIn:!0,action:"Login",actionChange:"Create account"},this.nameControl=new r.NI("",[r.kI.required,r.kI.minLength(3)])}ngOnInit(){this.createForm()}get name(){return this.authForm.get("name")}get email(){return this.authForm.get("email")}get password(){return this.authForm.get("password")}changeAuthAction(){this.configs.isSignIn=!this.configs.isSignIn;const{isSignIn:n}=this.configs;this.configs.action=n?"Login":"Sign Up",this.configs.actionChange=n?"Create account":"Already have an account",n?this.authForm.removeControl("name"):this.authForm.addControl("name",this.nameControl)}createForm(){this.authForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6)]]})}onSubmit(n){return(0,e.mG)(this,void 0,void 0,function*(){const o=yield this.overlayService.loading();try{yield this.authService.authenticate({isSignIn:this.configs.isSignIn,user:this.authForm.value,provider:n}),this.navCtrl.navigateForward(this.route.snapshot.queryParamMap.get("redirect")||"/tasks")}catch(i){console.log("Auth error: ",i),yield this.overlayService.toast({message:i.message})}finally{o.dismiss()}})}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(c.e),s.Y36(r.qu),s.Y36(u.F),s.Y36(l.SH),s.Y36(t.gz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:9,consts:[[1,"ion-padding"],[1,"ion-justify-content-center"],["size-sm","12","size-md","8","size-lg","6","size-xl","6"],[1,"ion-text-center"],["name","checkmark-done","color","primary",1,"icon-7em"],[3,"formGroup","submit"],[4,"ngIf"],["name","mail","color","primary","slot","start"],["type","email","placeholder","Email","formControlName","email","inputmode","email","autofocus","true"],["slot","end","color","danger",4,"ngIf"],["name","lock-closed","color","primary","slot","start"],["type","password","placeholder","Password","formControlName","password"],["expand","block","type","submit",3,"disabled"],["expand","block","fill","clear",3,"click"],["expand","block",3,"click"],["name","logo-facebook","slot","start"],["name","person-add-outline","color","primary","slot","start"],["type","text","placeholder","Name","formControlName","name"],["slot","end","color","danger"]],template:function(n,o){1&n&&(s.TgZ(0,"ion-content",0),s.TgZ(1,"ion-grid"),s.TgZ(2,"ion-row",1),s.TgZ(3,"ion-col",2),s.TgZ(4,"h1",3),s._UZ(5,"ion-icon",4),s.qZA(),s.TgZ(6,"form",5),s.NdJ("submit",function(){return o.onSubmit(o.authProviders.Email)}),s.YNc(7,h,6,2,"ng-container",6),s.TgZ(8,"ion-item"),s._UZ(9,"ion-icon",7),s._UZ(10,"ion-input",8),s.YNc(11,p,2,0,"ion-note",9),s.YNc(12,f,2,0,"ion-note",9),s.qZA(),s.TgZ(13,"ion-item"),s._UZ(14,"ion-icon",10),s._UZ(15,"ion-input",11),s.YNc(16,Z,2,0,"ion-note",9),s.YNc(17,y,2,0,"ion-note",9),s.qZA(),s.TgZ(18,"ion-button",12),s._uU(19),s.qZA(),s.qZA(),s.TgZ(20,"ion-button",13),s.NdJ("click",function(){return o.changeAuthAction()}),s._uU(21),s.qZA(),s.TgZ(22,"ion-button",14),s.NdJ("click",function(){return o.onSubmit(o.authProviders.Facebook)}),s._UZ(23,"ion-icon",15),s._uU(24," Login with Facebook "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&n&&(s.xp6(6),s.Q6J("formGroup",o.authForm),s.xp6(1),s.Q6J("ngIf",!o.configs.isSignIn),s.xp6(4),s.Q6J("ngIf",o.email.dirty&&o.email.hasError("required")),s.xp6(1),s.Q6J("ngIf",o.email.dirty&&o.email.hasError("email")),s.xp6(4),s.Q6J("ngIf",o.password.dirty&&o.password.hasError("required")),s.xp6(1),s.Q6J("ngIf",o.password.dirty&&o.password.hasError("minlength")),s.xp6(1),s.Q6J("disabled",o.authForm.invalid),s.xp6(1),s.hij(" ",o.configs.action,""),s.xp6(2),s.hij(" ",o.configs.actionChange,""))},directives:[l.W2,l.jY,l.Nd,l.wI,l.gu,r._Y,r.JL,r.sg,m.O5,l.Ie,l.pK,l.j9,r.JJ,r.u,l.YG,l.uN],styles:[""]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[t.Bz.forChild(q)],t.Bz]}),n})();var I=i(4466);let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[I.m,A]]}),n})();const k=[{path:"",loadChildren:"./pages/login/login.module#LoginPageModule"}];let w=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[t.Bz.forChild(k),v],t.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[w]]}),n})()}}]);