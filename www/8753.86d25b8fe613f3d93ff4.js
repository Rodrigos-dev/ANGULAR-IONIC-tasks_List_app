(self.webpackChunkFirstProjectIonic=self.webpackChunkFirstProjectIonic||[]).push([[8753],{3104:(t,e,n)=>{"use strict";n.d(e,{M:()=>l});var i=n(4762),o=n(3018),s=n(263),r=n(8945),a=n(6994);let l=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.menuCtrl=e,this.navCtrl=n,this.overlayService=i}ngOnInit(){return(0,i.mG)(this,void 0,void 0,function*(){(yield this.menuCtrl.isEnabled(this.menu))||this.menuCtrl.enable(!0,this.menu)})}logout(){return(0,i.mG)(this,void 0,void 0,function*(){yield this.overlayService.alert({message:"Do you really want to quit?",buttons:[{text:"Yes",handler:()=>(0,i.mG)(this,void 0,void 0,function*(){yield this.authService.logout(),yield this.menuCtrl.enable(!1,this.menu),this.navCtrl.navigateRoot("/login")})},"No"]})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.e),o.Y36(r._q),o.Y36(r.SH),o.Y36(a.F))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-logout-button"]],inputs:{menu:"menu"},decls:3,vars:0,consts:[[3,"click"],["name","exit-outline","slot","icon-only"]],template:function(t,e){1&t&&(o.TgZ(0,"ion-buttons"),o.TgZ(1,"ion-button",0),o.NdJ("click",function(){return e.logout()}),o._UZ(2,"ion-icon",1),o.qZA(),o.qZA())},directives:[r.Sm,r.YG,r.gu],encapsulation:2}),t})()},9945:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TaskSavePageModule:()=>f});var i=n(5496),o=n(4762),s=n(665),r=n(5257),a=n(3018),l=n(8945),c=n(3756),u=n(6994),d=n(3104),p=n(8583);function m(t,e){1&t&&a._UZ(0,"ion-toggle",10)}const h=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.fb=t,this.navCtrl=e,this.tasksService=n,this.route=i,this.overlayService=o,this.pageTitle="...",this.taskId=void 0}ngOnInit(){this.createForm(),this.init()}init(){const t=this.route.snapshot.paramMap.get("id");t?(this.taskId=t,console.log("task, ",t),this.pageTitle="Edit Task",this.tasksService.get(t).pipe((0,r.q)(1)).subscribe(({title:t,done:e})=>{this.taskForm.get("title").setValue(t),this.taskForm.get("done").setValue(e)})):this.pageTitle="Create Task"}createForm(){this.taskForm=this.fb.group({title:["",[s.kI.required,s.kI.minLength(3)]],done:[!1]})}onSubmit(){return(0,o.mG)(this,void 0,void 0,function*(){const t=yield this.overlayService.loading({message:"Saving..."});try{this.taskId?yield this.tasksService.update(Object.assign({id:this.taskId},this.taskForm.value)):yield this.tasksService.create(this.taskForm.value),this.navCtrl.navigateBack("/tasks")}catch(e){console.log("Error saving Task: ",e),yield this.overlayService.toast({message:e.message})}finally{t.dismiss()}})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(s.qu),a.Y36(l.SH),a.Y36(c.C),a.Y36(i.gz),a.Y36(u.F))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-task-save"]],decls:15,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/tasks"],["slot","end","menu","main-menu"],["padding",""],[3,"formGroup","submit"],["name","newspaper-outline","slot","start","color","primary"],["type","text","placeholder","Title","autofocus","true","inputmode","text","formControlName","title"],["slot","end","color","primary","formControlName","done",4,"ngIf"],["expand","full","type","submit",3,"disabled"],["slot","end","color","primary","formControlName","done"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-back-button",2),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5),a.qZA(),a._UZ(6,"app-logout-button",3),a.qZA(),a.qZA(),a.TgZ(7,"ion-content",4),a.TgZ(8,"Form",5),a.NdJ("submit",function(){return e.onSubmit()}),a.TgZ(9,"ion-item"),a._UZ(10,"ion-icon",6),a._UZ(11,"ion-input",7),a.YNc(12,m,1,0,"ion-toggle",8),a.qZA(),a.TgZ(13,"ion-button",9),a._uU(14,"Save"),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(5),a.Oqu(e.pageTitle),a.xp6(3),a.Q6J("formGroup",e.taskForm),a.xp6(4),a.Q6J("ngIf",e.taskId),a.xp6(1),a.Q6J("disabled",e.taskForm.invalid))},directives:[l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,d.M,l.W2,s.JL,s.sg,l.Ie,l.gu,l.pK,l.j9,s.JJ,s.u,p.O5,l.YG,l.ho,l.w],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.Bz.forChild(h)],i.Bz]}),t})();var v=n(4466);let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[v.m,g]]}),t})()},3756:(t,e,n)=>{"use strict";n.d(e,{C:()=>r});var i=n(3018),o=n(263),s=n(1029);let r=(()=>{class t extends class{constructor(t){this.db=t}setCollection(t,e){this.collection=t?this.db.collection(t,e):null}setItem(t,e){return this.collection.doc(t.id)[e](t).then(()=>t)}getAll(){return this.collection.valueChanges()}get(t){return this.collection.doc(t).valueChanges()}create(t){return t.id=this.db.createId(),this.setItem(t,"set")}update(t){return this.setItem(t,"update")}delete(t){return this.collection.doc(t.id).delete()}}{constructor(t,e){super(e),this.authService=t,this.init()}init(){this.authService.authState$.subscribe(t=>{this.setCollection(t?`/users/${t.uid}/tasks`:null)})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.e),i.LFG(s.ST))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8753:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TasksModule:()=>w});var i=n(5496),o=n(8668),s=n(9945),r=n(4762),a=n(5257),l=n(3018),c=n(8945),u=n(6994),d=n(3756);let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-menu-toggle"]],inputs:{menu:"menu"},decls:4,vars:1,consts:[[3,"menu"],["slot","icon-only","name","menu-outline"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-buttons"),l.TgZ(1,"ion-menu-toggle",0),l.TgZ(2,"ion-button"),l._UZ(3,"ion-icon",1),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("menu",e.menu))},directives:[c.Sm,c.zc,c.YG,c.gu],encapsulation:2}),t})();var m=n(3104),h=n(8583);let g=(()=>{class t{constructor(){this.done=new l.vpe,this.update=new l.vpe,this.delete=new l.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-task-item"]],inputs:{task:"task"},outputs:{done:"done",update:"update",delete:"delete"},decls:10,vars:2,consts:[["sliding",""],[3,"click"],["slot","end","color","primary",3,"checked","ionChange","click"],["side","start"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"],["slot","icon-only","name","create-outline"]],template:function(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-item-sliding",null,0),l.TgZ(2,"ion-item",1),l.NdJ("click",function(){return e.update.emit(e.task)}),l._uU(3),l.TgZ(4,"ion-toggle",2),l.NdJ("ionChange",function(){return e.done.emit(e.task)})("click",function(t){return t.stopPropagation()}),l.qZA(),l.qZA(),l.TgZ(5,"ion-item-options",3),l.TgZ(6,"ion-item-option",4),l.NdJ("click",function(){l.CHM(t);const n=l.MAs(1);return e.delete.emit(e.task),n.close()}),l._UZ(7,"ion-icon",5),l.qZA(),l.TgZ(8,"ion-item-option",1),l.NdJ("click",function(){l.CHM(t);const n=l.MAs(1);return e.update.emit(e.task),n.close()}),l._UZ(9,"ion-icon",6),l.qZA(),l.qZA(),l.qZA()}2&t&&(l.xp6(3),l.hij(" ",e.task.title," "),l.xp6(1),l.Q6J("checked",e.task.done))},directives:[c.td,c.Ie,c.ho,c.w,c.IK,c.u8,c.gu],styles:[""]}),t})();function v(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"app-task-item",11),l.NdJ("update",function(e){return l.CHM(t),l.oxw(3).onUpdate(e)})("delete",function(e){return l.CHM(t),l.oxw(3).onDelete(e)})("done",function(e){return l.CHM(t),l.oxw(3).onDone(e)}),l.qZA()}2&t&&l.Q6J("task",e.$implicit)}function f(t,e){if(1&t&&(l.ynx(0),l.YNc(1,v,1,1,"app-task-item",10),l.BQk()),2&t){const t=l.oxw().ngIf;l.xp6(1),l.Q6J("ngForOf",t)}}function k(t,e){1&t&&(l.TgZ(0,"ion-item",12),l._uU(1,"No tasks yet..."),l.qZA())}function Z(t,e){if(1&t&&(l.TgZ(0,"ion-list"),l.YNc(1,f,2,1,"ng-container",8),l.YNc(2,k,2,0,"ng-template",null,9,l.W1O),l.qZA()),2&t){const t=e.ngIf,n=l.MAs(3);l.xp6(1),l.Q6J("ngIf",t.length>0)("ngIfElse",n)}}const y=[{path:"",component:(()=>{class t{constructor(t,e,n){this.navCtrl=t,this.overlayService=e,this.taskService=n}ionViewDidEnter(){return(0,r.mG)(this,void 0,void 0,function*(){const t=yield this.overlayService.loading();this.tasks$=this.taskService.getAll(),this.tasks$.pipe((0,a.q)(1)).subscribe(e=>t.dismiss())})}onUpdate(t){this.navCtrl.navigateForward(["tasks","edit",t.id])}onDelete(t){return(0,r.mG)(this,void 0,void 0,function*(){yield this.overlayService.alert({message:`Do you really want to delete the task "${t.title}"`,buttons:[{text:"Yes",handler:()=>(0,r.mG)(this,void 0,void 0,function*(){yield this.taskService.delete(t),yield this.overlayService.toast({message:`Task "${t.title}" deleted!`})})},"No"]})})}onDone(t){return(0,r.mG)(this,void 0,void 0,function*(){const e=Object.assign(Object.assign({},t),{done:!t.done});yield this.taskService.update(e),yield this.overlayService.toast({message:`Task "${t.title}" ${e.done?"completed":"updated"}!!`})})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(c.SH),l.Y36(u.F),l.Y36(d.C))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-tasks-list"]],decls:12,vars:3,consts:[["color","primary"],["slot","start","menu","main-menu"],["slot","end","menu","main-menu"],["padding",""],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["routerLink","/tasks/create","routerDirection","forward"],["name","add"],[4,"ngIf","ngIfElse"],["noTasks",""],[3,"task","update","delete","done",4,"ngFor","ngForOf"],[3,"task","update","delete","done"],["lines","none"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l._UZ(2,"app-menu-toggle",1),l.TgZ(3,"ion-title"),l._uU(4,"tasks-list"),l.qZA(),l._UZ(5,"app-logout-button",2),l.qZA(),l.qZA(),l.TgZ(6,"ion-content",3),l.YNc(7,Z,4,2,"ion-list",4),l.ALo(8,"async"),l.TgZ(9,"ion-fab",5),l.TgZ(10,"ion-fab-button",6),l._UZ(11,"ion-icon",7),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(7),l.Q6J("ngIf",l.lcZ(8,1,e.tasks$)))},directives:[c.Gu,c.sr,p,c.wd,m.M,c.W2,h.O5,c.IJ,c.W4,c.YI,i.rH,c.gu,c.q_,h.sg,g,c.Ie],pipes:[h.Ov],styles:[""]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.Bz.forChild(y)],i.Bz]}),t})();var T=n(4466);let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[T.m]]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[T.m,S,b]]}),t})();const C=[{path:"",canActivateChild:[o.a],children:[{path:"create",loadChildren:()=>Promise.resolve().then(n.bind(n,9945)).then(t=>t.TaskSavePageModule)},{path:"edit/:id",loadChildren:()=>Promise.resolve().then(n.bind(n,9945)).then(t=>t.TaskSavePageModule)},{path:"",loadChildren:"./pages/tasks-list/tasks-list.module#TasksListPageModule"}]}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.Bz.forChild(C),A,s.TaskSavePageModule],i.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[q]]}),t})()}}]);